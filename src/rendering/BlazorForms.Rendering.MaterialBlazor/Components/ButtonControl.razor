@using BlazorForms.Rendering.State
@using MatBlazor
@using BlazorForms.Forms
@using BlazorForms.FlowRules

    <MatButton Outlined="true" OnClick="@ButtonClick" Disabled="@Field.DisplayProperties.Disabled">@Field.DisplayProperties.Caption</MatButton>
<ValidatorControl Validations="@Validations"></ValidatorControl>

@code {

    [Parameter]
    public FieldControlDetails Field { get; set; }

    [Parameter]
    public string Caption { get; set; }

    [Parameter]
    public string Name { get; set; }

    [Parameter]
    public IEnumerable<RuleExecutionResult> Validations { get; set; }

    [Parameter]
    public EventCallback<ValueChangedArgs> ModelValueChanged { get; set; }

    protected override async Task OnInitializedAsync()
    {
    }

    private async Task ButtonClick()
    {
        ModelValueChanged.InvokeAsync(new ValueChangedArgs { Binding = Field.Binding });
    }
}